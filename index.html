
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>单页面应</title>
    <script src="../vue.js"></script>
    <script src="../vue-router.js"></script>
</head>
<body>
   <div id="app">
    <tpl-header></tpl-header>
    <router-view></router-view>
   <!-- <tpl-home></tpl-home>-->
   </div>
   <template id="tplHeader">
       <div>
            <h1>这是页头</h1>
            <div><a href="#" @click="signin">login</a></div>
            
            <ul style="list-style:none;">
                <li style="float:left;margin-right:15px;;">
                    <router-link to="/index">index</router-link>
                </li>
                <li style="float:left;margin-right:15px;">
                    <router-link to="/about">about</router-link>
                </li>
                <li>
                    <router-link to="/login">login</router-link>
                </li>
            </ul>
       <hr>
       </div>
   </template>
  <template id="tplHome">
      <div>
          <h1>欢迎访问首页</h1>
          <hr>
          <ul>
              <li><router-link to="/index/tmgj">tianmao guoji</router-link></li>
              <li> <router-link to="/index/fszh">feizhulvyou</router-link></li>
              <li><router-link to="/index/tmcs">tianmao chaoshi</router-link></li>
          </ul>
          <div>
              <router-view>
                  
              </router-view>
          </div>
      </div>
   </template>
   <template id="tmgj">
       <div>
           tianmao guoji 
       </div>
   </template>
   <template id="fszh">
        <div>
            fszh
        </div>
    </template>
    <template id="tmcs">
            <div>
                tmcs
            </div>
        </template>
   <template id="tplAbout">
       <div>
            <h1>关于我们</h1>
            <hr>
       </div>
   </template>
   <template id="tplLogin">
       <div>
            <h1>这是登录页面</h1>
            <hr>
            <h3>{{back}}</h3>
            <router-link :to="`/${back}`">go to prev page</router-link>
       </div>
   </template>
   <script>
       Vue.component("tpl-header",{
           template:"#tplHeader",
           data:function(){
               return {}
           },
           components:{

           },
           methods:{
               signin(){
                   var path=this.$route.path;
                   console.log(path);
                   if(path=="/")
                   path="/index"
                   this.$router.push("/login"+path)
               }
           }
       });
       var tmgj={
                template:"#tmgj"
        }
        var fszh={
            template:"#fszh"
        };
        var tmcs={
            template:"#tmcs"
        }
       var tplHome={
           template:"#tplHome",
           data:function(){
               return {}        
           }
       };
       
       var tplAbout={
           template:"#tplAbout",
           data:function(){
               return {}
           },
           components:{

           }
       };
       var tplLogin={
           template:"#tplLogin",
           data:function(){
               return {}
           },
           methods:{
               
           },
           props:["back"],//one
           components:{
           }
       }
       var notFount={template:"<h2 style='color:red;'>404 Not Found</h2>"};
       //建立路由字典
       var routes=[
                    {path:"/",component:tplHome},
                    {path:"/index",component:tplHome,children:[{path:"/index/tmgj",component:tmgj},{path:"/index/fszh",component:fszh},{path:"/index/tmcs",component:tmcs}]},
                    {path:"/about",component:tplAbout},
                    {path:"/login/:back"/*two*/,component:tplLogin,props:true/*three*/},//zhijie jiang back canshu zhuan huan cheng props["back"] de  can shu
                    {path:"/login",component:tplLogin},
                    {path:"/*",component:notFount}
                  ];
       //创建路由器对象
       var router=new VueRouter({routes});
       new Vue({
           el:"#app",
           router:router
       });
   </script>
</body>
</html>
